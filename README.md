# front-end-interview

## vue

### 生命周期和钩子函数

vue 中每一个组件都有自己的生命周期，会经过组件创建、数据初始化、挂载、更新、销毁等过程，在这个过程中会运行生命周期钩子函数，这使得用户有机会添加自己的代码，生命周期可以分为 8 个阶段：创建前后、挂载前后、更新前后、销毁前后。

| vue2          | vue3            | 调用时机          |
| ------------- | --------------- | ----------------- |
|               | setup           | 最开始            |
| beforeCreate  |                 | 组件实例初始化前  |
| created       |                 | 组件实例创建后    |
| beforeMount   | onBeforeMount   | 组件挂载到 DOM 前 |
| mounted       | onMounted       | 组件挂载到 DOM 后 |
| beforeUpdate  | onBeforeUpdate  | 组件更新前        |
| updated       | onUpdated       | 组件更新后        |
| beforeDestroy | onBeforeUnmount | 组件卸载前        |
| destroyed     | onUnmounted     | 组件卸载后        |

### 双向绑定原理

vue2 使用 Object.defineProperty() 实现数据劫持

vue3 使用 es6 中的 Proxy 实现数据代理

区别：

- vue2 中对象的所有属性进行递归。 vue3 是按需递归，性能更高。
- vue2 中对象不存在的属性是不能被拦截的。而 vue3 可以，功能更强大。

### 路由守卫

主要用来通过跳转或取消跳转的方式守卫导航，全局前置路由守卫与全局后置路由守卫使用的多，主要是做权限检查或者更改页码标题的工作

| 路由守卫          | 位置 | 说明                                                         |
| ----------------- | ---- | ------------------------------------------------------------ |
| 全局路由守卫      |      |                                                              |
| beforeEach        | 前置 | 每次路由切换之前被调用                                       |
| beforeResolve     | 解析 | 在导航被确认之前、所有组件内守卫和异步路由组件被解析之后调用 |
| afterEach         | 后置 | 每次路由切换之后调用                                         |
| 路由独享守卫      |      |                                                              |
| beforeEnter       | 前置 | 只对单个路由配置和调用                                       |
| 组件路由守卫      |      |                                                              |
| beforeRouteEnter  | 进入 | 进入该组件时被调用                                           |
| beforeRouteUpdate | 改变 | 当前路由改变时被调用                                         |
| beforeRouteLeave  | 离开 | 离开该组件时被调用                                           |

### v-show 与 v-if 区别

v-show 是操作 css 的显示隐藏属性

v-if 是操作 dom 的销毁和创建

频繁切换时使用 v-show，较少切换时使用 v-if。

### 状态管理

都是 vue 的全局状态管理器，通用数据集中统一管理。

相比普通组件通信的方式，使得操作更加简洁，效率明显提高。

|          | vuex 说明                     | pinia 说明 最大的特点是：简便 |
| -------- | ----------------------------- | ----------------------------- |
| state    | 状态数据，用来存储变量        | 支持多个 store 实例           |
| geeter   | 相当于 state 的计算属性       | 没变化                        |
| mutation | 提交更新数据的方法,同步的     | 取消                          |
| action   | 先处理异步，再提交到 mutation | 同时支持同步和异步            |
| modules  | 模块化                        | 取消                          |

### 组件传值

|          | vue2                                                              | vue3                          |
| -------- | ----------------------------------------------------------------- | ----------------------------- |
| 父传子   | 父组件通过自定义属性向子组件传值，子组件通过 props 接收           | 子组件改用 defineProps 宏函数 |
| 子传父   | 子组件通过 this.$emit()触发父组件绑定的自定义事件，父组件修改数据 | 子组件改用 defineEmits 宏函数 |
| 其他方式 | $bus、vuex 等                                                     | 依赖注入、pinia 等            |

### 路由跳转

TODO

### 怎么定义 vue-router 的动态路由？怎么获取传过来的动态参数

| 声明式导航 vue-router | 跳转                                                                                   | 接收                 | 特点     |
| --------------------- | -------------------------------------------------------------------------------------- | -------------------- | -------- |
| 查询参数传参          | 标签的地址后拼接 ？参数名=值&参数名=值                                                 | $route.query.参数名  | 多个参数 |
| 动态路由传参          | 1、配置动态路由 在路由表地址后拼接 /：参数名？（？是可选符）； 2、标签的地址后拼接 /值 | $route.params.参数名 | 更简洁   |
